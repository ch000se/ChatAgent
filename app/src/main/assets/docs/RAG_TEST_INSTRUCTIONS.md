# –Ø–∫ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥ —ñ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é RAG

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫** –Ω–∞ –µ–º—É–ª—è—Ç–æ—Ä—ñ –∞–±–æ –ø—Ä–∏—Å—Ç—Ä–æ—ó
2. **–ü—Ä–æ—ñ–Ω–¥–µ–∫—Å—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏**:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω —á–∞—Ç—É
   - –î–æ–¥–∞–π—Ç–µ –∫—ñ–ª—å–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–æ –ø–æ–ª—ñ—Ç–∏–∫—É –∫–æ–º–ø–∞–Ω—ñ—ó, —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó, FAQ)
   - –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó
3. **–ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ RAG Comparison Demo**:
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –∫–Ω–æ–ø–∫—É –≤ –º–µ–Ω—é

---

## –ö—Ä–æ–∫ 2: –ë–∞–∑–æ–≤–∏–π —Ç–µ—Å—Ç (–ë–ï–ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —ñ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥—É)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```
Top-K chunks: 3
Similarity threshold: 0.00
Use Reranking: OFF (–≤–∏–º–∫–Ω–µ–Ω–æ)
```

### –î—ñ—ó:
1. –í–≤–µ–¥—ñ—Ç—å –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: **"–°–∫—ñ–ª—å–∫–∏ –¥–Ω—ñ–≤ –≤—ñ–¥–ø—É—Å—Ç–∫–∏?"**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Compare"**
3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏:

**–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ —Å–µ–∫—Ü—ñ—é "WITH RAG"**:
- –°–∫—ñ–ª—å–∫–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ñ–≤ –∑–Ω–∞–π–¥–µ–Ω–æ
- –Ø–∫—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ
- –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∏ —Å—Ö–æ–∂–æ—Å—Ç—ñ (similarity) –∫–æ–∂–Ω–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞
- –Ø–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

**–ü—Ä–∏–∫–ª–∞–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É**:
```
Chunks found: 6 ‚Üí After filtering: 6 ‚Üí Used: 3
Similarity threshold: 0.00

Chunk #1: 87.5% - employee_handbook.txt
Chunk #2: 65.3% - benefits_guide.txt
Chunk #3: 42.1% - company_history.txt  ‚¨ÖÔ∏è –ù–ò–ó–¨–ö–ê —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å!
```

**–ü—Ä–æ–±–ª–µ–º–∞**: Chunk #3 –º–∞—î –Ω–∏–∑—å–∫—É —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å (42%), –∞–ª–µ –≤—Å–µ –æ–¥–Ω–æ –≤–∫–ª—é—á–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç. –¶–µ –º–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏ "—à—É–º" —É –≤—ñ–¥–ø–æ–≤—ñ–¥—å.

---

## –ö—Ä–æ–∫ 3: –¢–µ—Å—Ç –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é (–ë–ï–ó —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥—É)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```
Top-K chunks: 3
Similarity threshold: 0.50  ‚¨ÖÔ∏è –ó–ú–Ü–ù–ï–ù–û
Use Reranking: OFF
```

### –î—ñ—ó:
1. **–ù–ï –ú–Ü–ù–Ø–ô–¢–ï –∑–∞–ø–∏—Ç–∞–Ω–Ω—è** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —Ç–µ —Å–∞–º–µ
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Compare"**

### –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏:

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó**:
```
Chunks found: 6 ‚Üí After filtering: 4 ‚Üí Used: 3
Similarity threshold: 0.50

Chunk #1: 87.5% - employee_handbook.txt  ‚úÖ
Chunk #2: 65.3% - benefits_guide.txt     ‚úÖ
Chunk #3: 58.7% - hr_policies.txt        ‚úÖ (–ù–û–í–ò–ô!)
```

**–©–æ —Å—Ç–∞–ª–æ—Å—å**:
- Chunk –∑ 42% —Å—Ö–æ–∂—ñ—Å—Ç—é **–≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–∏–π** (–Ω–µ –ø—Ä–æ–π—à–æ–≤ –ø–æ—Ä—ñ–≥ 0.50)
- –ó–∞–º—ñ—Å—Ç—å –Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π —ñ–Ω—à–∏–π chunk –∑ –≤–∏—â–æ—é —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—é
- **–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å**: —á–∏ —Å—Ç–∞–ª–∞ –≤–æ–Ω–∞ –±—ñ–ª—å—à —Ç–æ—á–Ω–æ—é —Ç–∞ —Å—Ñ–æ–∫—É—Å–æ–≤–∞–Ω–æ—é?

### –õ–æ–≥–∏ (—É Logcat):

```
D/RagComparisonVM: Filtering: threshold=0.5
D/RagComparisonVM:   [PASS] similarity=0.8750 - employee_handbook.txt
D/RagComparisonVM:   [PASS] similarity=0.6530 - benefits_guide.txt
D/RagComparisonVM:   [PASS] similarity=0.5870 - hr_policies.txt
D/RagComparisonVM:   [FILTERED] similarity=0.4210 - company_history.txt  ‚¨ÖÔ∏è
D/RagComparisonVM: After filtering: 4 chunks (removed 2)
```

---

## –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç –∑ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥–æ–º (–ë–ï–ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```
Top-K chunks: 3
Similarity threshold: 0.00  ‚¨ÖÔ∏è –ü–æ–≤–µ—Ä–Ω—É–ª–∏ –¥–æ 0
Use Reranking: ON  ‚¨ÖÔ∏è –£–í–Ü–ú–ö–ù–£–õ–ò
```

### –î—ñ—ó:
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Compare"**

### –©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏:

**–°—Ç–∞—Ç—É—Å —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥—É**:
```
Reranking: ENABLED  ‚úÖ
```

**–õ–æ–≥–∏ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥—É** (—É Logcat):
```
D/RagComparisonVM: Rerank: employee_handbook.txt chunk#2 original=0.8750 reranked=0.9250
D/RagComparisonVM: Rerank: benefits_guide.txt chunk#5 original=0.6530 reranked=0.7030
D/RagComparisonVM: Rerank: hr_policies.txt chunk#1 original=0.6200 reranked=0.5700
```

**–©–æ –∑–º—ñ–Ω–∏–ª–æ—Å—å**:
- –§—Ä–∞–≥–º–µ–Ω—Ç–∏ **–ø–µ—Ä–µ–æ—Ü—ñ–Ω–µ–Ω—ñ** –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º:
  - –†—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ—Å—Ç—ñ –¥–∂–µ—Ä–µ–ª
  - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏
  - –ü–æ–∑–∏—Ü—ñ—ó –≤ –¥–æ–∫—É–º–µ–Ω—Ç—ñ
- –ü–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—å
- **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ**: —á–∏ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ—à—ñ –¥–∂–µ—Ä–µ–ª–∞ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ?

---

## –ö—Ä–æ–∫ 5: –ü–û–í–ù–ê –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è (—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è + —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```
Top-K chunks: 3
Similarity threshold: 0.40  ‚¨ÖÔ∏è –ü–æ–º—ñ—Ä–Ω–∏–π –ø–æ—Ä—ñ–≥
Use Reranking: ON  ‚¨ÖÔ∏è –£–≤—ñ–º–∫–Ω–µ–Ω–æ
```

### –î—ñ—ó:
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Compare"**

### –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
Chunks found: 6 ‚Üí After filtering: 5 ‚Üí Used: 3
Similarity threshold: 0.40
Reranking: ENABLED

Chunk #1: 92.5% - employee_handbook.txt (reranked: was 87.5%)
Chunk #2: 70.3% - benefits_guide.txt (reranked: was 65.3%)
Chunk #3: 61.8% - hr_policies.txt (reranked: was 58.7%)
```

**–ü–µ—Ä–µ–≤–∞–≥–∏**:
- ‚úÖ –í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –Ω–∏–∑—å–∫–æ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ chunks
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ —á–µ—Ä–µ–∑ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥
- ‚úÖ –†—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞
- ‚úÖ –ù–∞–π–∫—Ä–∞—â–∞ —è–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

---

## –ö—Ä–æ–∫ 6: –°—Ç—Ä–æ–≥–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```
Top-K chunks: 3
Similarity threshold: 0.70  ‚¨ÖÔ∏è –î–£–ñ–ï –°–¢–†–û–ì–û
Use Reranking: ON
```

### –î—ñ—ó:
1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Compare"**

### –ú–æ–∂–ª–∏–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:

**–í–∞—Ä—ñ–∞–Ω—Ç –ê: –£—Å–ø—ñ—Ö**
```
Chunks found: 6 ‚Üí After filtering: 3 ‚Üí Used: 3
All chunks highly relevant (>70%)
Answer: Very precise and accurate
```

**–í–∞—Ä—ñ–∞–Ω—Ç –ë: –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö**
```
Chunks found: 6 ‚Üí After filtering: 1 ‚Üí Used: 1
Warning: Only 1 chunk passed threshold
Answer: May be incomplete
```

**–í–∞—Ä—ñ–∞–Ω—Ç –í: –ü–æ–≤–Ω–∞ –≤—ñ–¥–º–æ–≤–∞**
```
Error: "No relevant documents found above similarity threshold (0.70)"
```

**–í–∏—Å–Ω–æ–≤–æ–∫**: –ü–æ—Ä—ñ–≥ 0.70 –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è **—Ç–æ—á–Ω–æ–≥–æ –ø–æ—à—É–∫—É —Ñ–∞–∫—Ç—ñ–≤**, –∞–ª–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–∞–Ω–∞–¥—Ç–æ —Å—Ç—Ä–æ–≥–∏–º –¥–ª—è –∑–∞–≥–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞–Ω—å.

---

## –ö—Ä–æ–∫ 7: –¢–µ—Å—Ç –∑ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–º –∑–∞–ø–∏—Ç–∞–Ω–Ω—è–º

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```
Top-K chunks: 3
Similarity threshold: 0.60
Use Reranking: ON
```

### –ó–∞–ø–∏—Ç–∞–Ω–Ω—è:
–í–≤–µ–¥—ñ—Ç—å —â–æ—Å—å **–ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–µ** –¥–æ –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤:
- "–Ø–∫–∞ –∑–∞—Ä–∞–∑ –ø–æ–≥–æ–¥–∞?"
- "–ö—É—Ä—Å –¥–æ–ª–∞—Ä–∞ —Å—å–æ–≥–æ–¥–Ω—ñ?"
- "–†–µ—Ü–µ–ø—Ç –±–æ—Ä—â—É"

### –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
Error: "No relevant documents found above similarity threshold (0.60)"
```

**–¶–µ –¥–æ–±—Ä–µ!** –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤–∏–∑–Ω–∞—á–∏–ª–∞, —â–æ –Ω–µ–º–∞—î —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó, –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ —â–æ–± "–≥–∞–ª—é—Ü–∏–Ω—É–≤–∞—Ç–∏" –≤—ñ–¥–ø–æ–≤—ñ–¥—å.

---

## –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ü—é —Ç–∞–±–ª–∏—Ü—é –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

| –¢–µ—Å—Ç | Threshold | Rerank | Chunks Used | Answer Quality | Notes |
|------|-----------|--------|-------------|----------------|-------|
| 1. Baseline | 0.00 | OFF | 6‚Üí6‚Üí3 | ‚≠ê‚≠ê‚≠ê | –Ñ —à—É–º |
| 2. Filter Only | 0.50 | OFF | 6‚Üí4‚Üí3 | ‚≠ê‚≠ê‚≠ê‚≠ê | –ö—Ä–∞—â–µ |
| 3. Rerank Only | 0.00 | ON | 6‚Üí6‚Üí3 | ‚≠ê‚≠ê‚≠ê‚≠ê | –†—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ—à–µ |
| 4. Both | 0.40 | ON | 6‚Üí5‚Üí3 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ù–∞–π–∫—Ä–∞—â–µ! |
| 5. Strict | 0.70 | ON | 6‚Üí2‚Üí2 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –î—É–∂–µ —Ç–æ—á–Ω–æ, –∞–ª–µ –º–∞–ª–æ |

---

## –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —è–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω–∫–∏:

**1. –¢–æ—á–Ω—ñ—Å—Ç—å**
- ‚ùì –ß–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º?
- ‚ùì –ù–µ–º–∞—î –≤–∏–≥–∞–¥–∞–Ω–∏—Ö —Ñ–∞–∫—Ç—ñ–≤?

**2. –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—å**
- ‚ùì –ß–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è?
- ‚ùì –ù–µ–º–∞—î –∑–∞–π–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó?

**3. –ü–æ–≤–Ω–æ—Ç–∞**
- ‚ùì –í—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏ –∑–≥–∞–¥–∞–Ω—ñ?
- ‚ùì –ù—ñ—á–æ–≥–æ –Ω–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ?

**4. –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å**
- ‚ùì –ß—ñ—Ç–∫–∞ —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å?
- ‚ùì –î–æ–±—Ä–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∞?

---

## –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–µ—Å—Ç–æ–≤—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è

### –ü—Ä–æ—Å—Ç—ñ —Ñ–∞–∫—Ç–∏ (–ø–æ–≤–∏–Ω–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –¥–æ–±—Ä–µ):
```
‚úÖ "–°–∫—ñ–ª—å–∫–∏ –¥–Ω—ñ–≤ –≤—ñ–¥–ø—É—Å—Ç–∫–∏ –Ω–∞–¥–∞—î—Ç—å—Å—è?"
‚úÖ "–Ø–∫–∞ –ø–æ–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ—ó —Ä–æ–±–æ—Ç–∏?"
‚úÖ "–ö–æ–ª–∏ –≤–∏–ø–ª–∞—á—É—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞?"
‚úÖ "–Ø–∫—ñ —î –º–µ–¥–∏—á–Ω—ñ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏?"
```

### –°–∫–ª–∞–¥–Ω—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (–ø–æ—Ç—Ä–µ–±—É—é—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É):
```
üü° "–†–æ–∑–∫–∞–∂–∏ –ø—Ä–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É –∫—É–ª—å—Ç—É—Ä—É"
üü° "–Ø–∫—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ —Ä–æ–±–æ—Ç–∏ –≤ –∫–æ–º–ø–∞–Ω—ñ—ó?"
üü° "–ü—Ä–æ—Ü–µ—Å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É –Ω–æ–≤–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤"
```

### –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ (–ø–æ–≤–∏–Ω–Ω—ñ –≤—ñ–¥—Ö–∏–ª—è—Ç–∏—Å—å):
```
‚ùå "–Ø–∫–∞ –ø–æ–≥–æ–¥–∞ –∑–∞–≤—Ç—Ä–∞?"
‚ùå "–ö—É—Ä—Å –±—ñ—Ç–∫–æ—ó–Ω–∞"
‚ùå "–ù–æ–≤–∏–Ω–∏ —Å–ø–æ—Ä—Ç—É"
```

---

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É:

```bash
# –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π/–µ–º—É–ª—è—Ç–æ—Ä
adb logcat -c  # –û—á–∏—Å—Ç–∏—Ç–∏ –ª–æ–≥–∏
adb logcat -s RagComparisonVM:D  # –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ RAG –ª–æ–≥–∏
```

**–ö–æ—Ä–∏—Å–Ω—ñ –ª–æ–≥–∏**:
```
=== QUERY WITH RAG ===
Similarity threshold: X.XX
Use reranking: true/false
Found X raw chunks
Filtering: threshold=X.XX
  [PASS] similarity=X.XXXX - file.txt
  [FILTERED] similarity=X.XXXX - file2.txt
After filtering: X chunks (removed Y)
Rerank: file.txt chunk#N original=X.XXXX reranked=Y.YYYY
Final chunks selected: X
```

---

## –®–≤–∏–¥–∫–∏–π —á–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ —Ç–µ—Å—Ç–∏:

- [ ] **–¢–µ—Å—Ç 1**: Baseline (threshold=0.00, rerank=OFF)
- [ ] **–¢–µ—Å—Ç 2**: –ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é (threshold=0.50, rerank=OFF)
- [ ] **–¢–µ—Å—Ç 3**: –ó —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥–æ–º (threshold=0.00, rerank=ON)
- [ ] **–¢–µ—Å—Ç 4**: –ü–æ–≤–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è (threshold=0.40, rerank=ON)
- [ ] **–¢–µ—Å—Ç 5**: –°—Ç—Ä–æ–≥–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è (threshold=0.70, rerank=ON)
- [ ] **–¢–µ—Å—Ç 6**: –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è)

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

- [ ] –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è threshold: 0.20, 0.30, 0.40, 0.50, 0.60, 0.70
- [ ] –ó–º—ñ–Ω–∏—Ç–∏ Top-K: 1, 3, 5, 7, 10
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ 5-10 —Ä—ñ–∑–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞–Ω—å
- [ ] –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (execution time)
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ —É Logcat
- [ ] –ó—Ä–æ–±–∏—Ç–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

---

## –û–ø—Ç–∏–º–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç—ñ–≤)

### –ó–∞–≥–∞–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):
```
Top-K: 3-5
Similarity threshold: 0.35-0.45
Use Reranking: ON ‚úÖ
```

### –í–∏—Å–æ–∫–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å (—Ñ–∞–∫—Ç–∏, –ø–æ–ª—ñ—Ç–∏–∫–∏):
```
Top-K: 3
Similarity threshold: 0.60-0.70
Use Reranking: ON ‚úÖ
```

### –®–∏—Ä–æ–∫–∏–π –ø–æ—à—É–∫ (–¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è, –æ–≥–ª—è–¥–∏):
```
Top-K: 5-7
Similarity threshold: 0.25-0.35
Use Reranking: ON ‚úÖ
```

### –®–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤–∞:
```
Top-K: 3
Similarity threshold: 0.50
Use Reranking: OFF ‚ö†Ô∏è
```

---

## –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —ñ —Ä—ñ—à–µ–Ω–Ω—è

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "No relevant documents found"

**–ü—Ä–∏—á–∏–Ω–∏**:
- –ü–æ—Ä—ñ–≥ –∑–∞–Ω–∞–¥—Ç–æ –≤–∏—Å–æ–∫–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∏ –Ω–µ –ø—Ä–æ—ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω—ñ
- –ó–∞–ø–∏—Ç–∞–Ω–Ω—è –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–º—ñ—Å—Ç—É

**–†—ñ—à–µ–Ω–Ω—è**:
1. –ó–Ω–∏–∑–∏—Ç–∏ threshold –¥–æ 0.20-0.30
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—é –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
3. –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è
4. –î–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –í—ñ–¥–ø–æ–≤—ñ–¥—å –º—ñ—Å—Ç–∏—Ç—å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é

**–ü—Ä–∏—á–∏–Ω–∏**:
- –ü–æ—Ä—ñ–≥ –∑–∞–Ω–∞–¥—Ç–æ –Ω–∏–∑—å–∫–∏–π (0.00)
- –†–µ—Ä–∞–Ω–∫–∏–Ω–≥ –≤–∏–º–∫–Ω–µ–Ω–∏–π
- –ü–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å –µ–º–±–µ–¥—ñ–Ω–≥—ñ–≤

**–†—ñ—à–µ–Ω–Ω—è**:
1. –ü—ñ–¥–≤–∏—â–∏—Ç–∏ threshold –¥–æ 0.50-0.60
2. –£–≤—ñ–º–∫–Ω—É—Ç–∏ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥
3. –ó–º–µ–Ω—à–∏—Ç–∏ Top-K –¥–æ 3
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —è–∫—ñ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–µ–ø–æ–≤–Ω–∞

**–ü—Ä–∏—á–∏–Ω–∏**:
- –ü–æ—Ä—ñ–≥ –∑–∞–Ω–∞–¥—Ç–æ –≤–∏—Å–æ–∫–∏–π
- Top-K –∑–∞–Ω–∞–¥—Ç–æ –º–∞–ª–∏–π
- –í–∞–∂–ª–∏–≤—ñ chunks –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ

**–†—ñ—à–µ–Ω–Ω—è**:
1. –ó–Ω–∏–∑–∏—Ç–∏ threshold –¥–æ 0.30-0.40
2. –ó–±—ñ–ª—å—à–∏—Ç–∏ Top-K –¥–æ 5-7
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ similarity scores —É –ª–æ–≥–∞—Ö
4. –ú–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∫—Ä–∞—â—ñ –µ–º–±–µ–¥—ñ–Ω–≥–∏

---

## –í–∏—Å–Ω–æ–≤–æ–∫

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤ –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ:

‚úÖ –†–æ–∑—É–º—ñ—Ç–∏, —è–∫ –ø—Ä–∞—Ü—é—î —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –ø–æ—Ä–æ–≥–æ–º —Å—Ö–æ–∂–æ—Å—Ç—ñ
‚úÖ –ë–∞—á–∏—Ç–∏ –≤–ø–ª–∏–≤ —Ä–µ—Ä–∞–Ω–∫–∏–Ω–≥—É –Ω–∞ —è–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
‚úÖ –ó–Ω–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∞—à–æ—ó –±–∞–∑–∏ –∑–Ω–∞–Ω—å
‚úÖ –í–º—ñ—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –±–∞–ª–∞–Ω—Å –º—ñ–∂ —Ç–æ—á–Ω—ñ—Å—Ç—é —Ç–∞ –ø–æ–≤–Ω–æ—Ç–æ—é
‚úÖ –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—Ç–∏ —Ç–∞ –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ —Ç–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è**: –ü–æ—á–Ω—ñ—Ç—å –∑ threshold=0.40 —Ç–∞ reranking=ON, –ø–æ—Ç—ñ–º –Ω–∞–ª–∞—à—Ç–æ–≤—É–π—Ç–µ –ø—ñ–¥ –≤–∞—à—ñ –ø–æ—Ç—Ä–µ–±–∏!

---

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
2. ‚úÖ –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
3. ‚úÖ –í–∏–∑–Ω–∞—á–∏—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
4. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è —É –∫–æ–¥—ñ
5. ‚úÖ –î–æ–¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
6. ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ –≤ production
